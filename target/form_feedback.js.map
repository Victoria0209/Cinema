{"version":3,"sources":["../js/form_feedback.js"],"names":["nameFieldFeedback","document","querySelector","parentNode","feedbackField","formFedback","getElementById","selectFeedback","nameFeedbackFieldUtiles","initializeField","feedbackFieldUtiles","addEventListener","classList","add","handleSubmitFeedback","event","preventDefault","nameValueFeedback","getValue","feedbackValue","addError","value","ERROR_CLASS_NAME","data","name","place","feedback","url","URL","search","URLSearchParams","toString","fetch","remove"],"mappings":";;AAAA,IAAMA,iBAAiB,GAAGC,QAAQ,CAACC,aAAT,CAAuB,sDAAvB,EAA+EC,UAAzG;AACA,IAAMC,aAAa,GAAGH,QAAQ,CAACC,aAAT,CAAuB,uDAAvB,EAAgFC,UAAtG;AACA,IAAME,WAAW,GAAGJ,QAAQ,CAACK,cAAT,CAAwB,mBAAxB,CAApB;AACA,IAAMC,cAAc,GAAGN,QAAQ,CAACK,cAAT,CAAwB,iBAAxB,CAAvB;AAEA,IAAME,uBAAuB,GAAGC,eAAe,CAACT,iBAAD,CAA/C;AACA,IAAMU,mBAAmB,GAAGD,eAAe,CAACL,aAAD,CAA3C;AAEAG,cAAc,CAACI,gBAAf,CAAgC,QAAhC,EAA0C,YAAM;AAC5CJ,EAAAA,cAAc,CAACK,SAAf,CAAyBC,GAAzB,CAA6B,uBAA7B;AACH,CAFD;;AAIA,SAASC,oBAAT,CAA8BC,KAA9B,EAAqC;AACjCA,EAAAA,KAAK,CAACC,cAAN;AACA,MAAMC,iBAAiB,GAAGT,uBAAuB,CAACU,QAAxB,EAA1B;AACA,MAAMC,aAAa,GAAGT,mBAAmB,CAACQ,QAApB,EAAtB;;AAEA,MAAI,CAACD,iBAAL,EAAwB;AACpBT,IAAAA,uBAAuB,CAACY,QAAxB,CAAiC,wBAAjC;AACA;AACH;;AACD,MAAIb,cAAc,CAACc,KAAf,KAAyB,MAA7B,EAAqC;AACjCd,IAAAA,cAAc,CAACK,SAAf,CAAyBC,GAAzB,CAA6BS,gBAA7B;AACA;AACH;;AACD,MAAI,CAACH,aAAL,EAAoB;AAChBT,IAAAA,mBAAmB,CAACU,QAApB,CAA6B,gBAA7B;AACA;AACH;;AAED,MAAMG,IAAI,GAAG;AACTC,IAAAA,IAAI,EAAEP,iBADG;AAETQ,IAAAA,KAAK,EAAElB,cAAc,CAACc,KAFb;AAGTK,IAAAA,QAAQ,EAAEP;AAHD,GAAb;AAMA,MAAMQ,GAAG,GAAG,IAAIC,GAAJ,CAAQ,iDAAR,CAAZ;AACAD,EAAAA,GAAG,CAACE,MAAJ,GAAa,IAAIC,eAAJ,CAAoBP,IAApB,EAA0BQ,QAA1B,EAAb;AAEAC,EAAAA,KAAK,CAACL,GAAG,CAACI,QAAJ,EAAD,CAAL;AACH;;AAAA;AAEDxB,cAAc,CAACI,gBAAf,CAAgC,QAAhC,EAA0C,YAAM;AAC5CJ,EAAAA,cAAc,CAACK,SAAf,CAAyBqB,MAAzB,CAAgCX,gBAAhC;AACH,CAFD;AAGAjB,WAAW,CAACM,gBAAZ,CAA6B,QAA7B,EAAuCG,oBAAvC","sourcesContent":["const nameFieldFeedback = document.querySelector('#feedback_form__id input[name=\"feedback_name__form\"]').parentNode;\r\nconst feedbackField = document.querySelector('#feedback_form__id textarea[name=\"feedback_textarea\"]').parentNode;\r\nconst formFedback = document.getElementById('feddback_form__id');\r\nconst selectFeedback = document.getElementById('feedback_select');\r\n\r\nconst nameFeedbackFieldUtiles = initializeField(nameFieldFeedback);\r\nconst feedbackFieldUtiles = initializeField(feedbackField);\r\n\r\nselectFeedback.addEventListener('change', () => {\r\n    selectFeedback.classList.add('input_select_selected');\r\n});\r\n\r\nfunction handleSubmitFeedback(event) {\r\n    event.preventDefault();\r\n    const nameValueFeedback = nameFeedbackFieldUtiles.getValue();\r\n    const feedbackValue = feedbackFieldUtiles.getValue();\r\n\r\n    if (!nameValueFeedback) {\r\n        nameFeedbackFieldUtiles.addError('Необходимо указать имя');\r\n        return;\r\n    }\r\n    if (selectFeedback.value === \"none\") {\r\n        selectFeedback.classList.add(ERROR_CLASS_NAME);\r\n        return;\r\n    }\r\n    if (!feedbackValue) {\r\n        feedbackFieldUtiles.addError('Напишите отзыв');\r\n        return;\r\n    }\r\n\r\n    const data = {\r\n        name: nameValueFeedback,\r\n        place: selectFeedback.value,\r\n        feedback: feedbackValue,\r\n    };\r\n\r\n    const url = new URL('http://inno-ijl.ru/multystub/stc-21-03/feedback');\r\n    url.search = new URLSearchParams(data).toString();\r\n\r\n    fetch(url.toString());\r\n};\r\n\r\nselectFeedback.addEventListener('change', () => {\r\n    selectFeedback.classList.remove(ERROR_CLASS_NAME);\r\n})\r\nformFedback.addEventListener('submit', handleSubmitFeedback);"],"file":"form_feedback.js"}